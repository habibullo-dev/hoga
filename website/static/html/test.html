<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <input type="file" id="userMusicInput" multiple>
  <button onclick="loadUserMusic()">Load Music</button>
  <ul id="userMusicList"></ul>
  <audio id="audioPlayer" controls></audio>
  <div id="controls">
    <button onclick="playPrevious()">Previous</button>
    <button onclick="togglePlayPause()">Play/Pause</button>
    <button onclick="playNext()">Next</button>
    <button onclick="shufflePlaylist()">Shuffle</button>
  </div>
</body>


<script>





/* <input type="file" id="userMusicInput" multiple>
  <button onclick="loadUserMusic()">Load Music</button> */

let userMusicArr = [];
function loadUserMusic() {
    const userMusicInput = document.getElementById('userMusicInput');
    userMusicArr = Array.from(userMusicInput.files);
    console.log("Loaded new music files from user machine: ", userMusicArr)
    userMusicArr.forEach((file, index) => {
    if (file.type.startsWith('audio/')) {
        const audioList = document.createElement('a');
        audioList.textContent = file.name;
        audioList.dataset.music = file.name;
        audioList.dataset.index = file.index
        audioList.classList.add("selectFXBtn")
        audioList.classList.add("userInputMusic")
        audioList.onclick = playSFX(event); 
        musicDropDown.appendChild(audioList);
    }
    });
}
/* 

let currentIndex = 0;
let audioPlayer = document.getElementById('audioPlayer');
function playMusic(index) {
  if (index < 0 || index >= files.length) return;
  currentIndex = index;
  const url = URL.createObjectURL(files[index]);
  audioPlayer.src = url;
  audioPlayer.play();
}

function playPrevious() {
  currentIndex = (currentIndex > 0) ? currentIndex - 1 : files.length - 1;
  playMusic(currentIndex);
}

function playNext() {
  currentIndex = (currentIndex < files.length - 1) ? currentIndex + 1 : 0;
  playMusic(currentIndex);
}

function togglePlayPause() {
  if (audioPlayer.paused) {
    audioPlayer.play();
  } else {
    audioPlayer.pause();
  }
}
 */


 /* ⚠️⚠️⚠️
function shufflePlaylist() {
  for (let i = files.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [files[i], files[j]] = [files[j], files[i]];
  }
  userMusicList.innerHTML = '';
  files.forEach((file, index) => {
    if (file.type.startsWith('audio/')) {
      const listItem = document.createElement('li');
      listItem.textContent = file.name;
      listItem.onclick = () => playMusic(index);
      userMusicList.appendChild(listItem);
    }
  });
} */

</script>
</html>